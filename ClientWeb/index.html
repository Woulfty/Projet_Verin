<!DOCTYPE html>
<html lang="fr">
    <head>
        <title>Poste de supervision</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="CSS/style.css">
        <link rel="stylesheet" type="text/css" href="CSS/menu.css">
        <link rel="stylesheet" type="text/css" href="CSS/loader.css">
    </head>
    <body>
        <!--loader-->
        <div id="dloader" class="loader"></div>

        <!--menu de navigation-->
        <div id="navigation" class="navigation">
            <ul>
                <li class="list" id="bconnexion">
                    <b></b>
                    <b></b>
                    <a href="#" class="deletediv">
                        <span class="icon">
                            <ion-icon name="person-outline"></ion-icon>
                        </span>
                        <span class="title">Connexion</span>
                    </a>
                </li>
                <li class="list" id="bdeco">
                    <b></b>
                    <b></b>
                    <a href="#" class="deletediv">
                        <span class="icon">
                            <ion-icon name="log-out-outline"></ion-icon>
                        </span>
                        <span class="title">Déconnexion</span>
                    </a>
                </li>
                <li class="list" id="bpv">
                    <b></b>
                    <b></b>
                    <a href="#" class="deletediv">
                        <span class="icon">
                            <ion-icon name="bar-chart-outline"></ion-icon>
                        </span>
                        <span class="title">Liste affaires</span>
                    </a>
                </li>
                <li class="list" id="bdoc">
                    <b></b>
                    <b></b>
                    <a href="#" class="deletediv">
                        <span class="icon">
                            <ion-icon name="document-attach-outline"></ion-icon>
                        </span>
                        <span class="title">Action BDD</span>
                    </a>
                </li>
                <li class="list" id="bhelp">
                    <b></b>
                    <b></b>
                    <a href="#" class="deletediv">
                        <span class="icon">
                            <ion-icon name="search-circle-outline"></ion-icon>
                        </span>
                        <span class="title">Aide</span>
                    </a>
                </li>
            </ul>
        </div>

        <!--affichage-->
        <div class="text-zone">

            <!--formulaire de connexion-->
            <div class="article" id="dconnexion">
                <h3><u>Connexion</h3></h3>
                <form id="form" action="">
                    <input type="text" id="pseudo" autocomplete="off" value="greg">
                    <input type="password" id="mdp" autocomplete="off" value="greg">
                    <button class="button">Connexion</button>
                </form>
            </div>

            <!--affichage des procés verbaux-->
            <div class="article" id="dpv">
                <h3 class="titleaffaire">Liste des affaires :</h3>
                <div id="ListAffaire">
                    <table id="Affairetable">
                        <thead>
                            <tr>
                                <th>Numéro d'affaire</th>
                                <th>Dates</th>
                                <th>Heures</th>
                            </tr>
                        </thead>
                        <tbody id="affaire">


                        </tbody>
                    </table>
                </div>
            </div>

            <!--gestion des paramétres-->
            <div class="article" id="ddoc">
                <h3>Action avec la base de données :</h3>
                <button class="reset" id="resetbdd">Réinitialiser la base</button>
                <label>
                    <span class="buttonfile">Importé la base</span>
                    <input type="file" class="import" id="importbdd" accept=".sql" onchange="loadFile(this.files[0])" >
                </label>
                <button class="export" id="exportbdd">Exporté la base</button>
            </div>

            <!--déconnexion-->
            <div class="article" id="ddeco">
                <h3>Déconnexion</h3>
                <form id="formdeco" action="">
                    <button class="button">Déconnexion</button>
                </form>
            </div>

            <!--affichage de l'affaire-->
            <div class="article1" id="daffaire">
                <div class="bouttonreturn">
                    <button id="backbutton" class="littlebutton">Retour</button>
                </div>
                <h3 id="h3title" class="h3title"></h3>
                <div id="infothisaffaire" class="affaire">
                    <canvas id="myCanvas" class="canvas"></canvas>
                    <table id="pvtable">
                        <thead>
                            <tr>
                                <th>Procès-verbaux</th>
                                <th>Dates</th>
                                <th>Heures</th>
                                <th>
                                    <button id="bnewpv" class="addbutton">
                                        <ion-icon id="newpv" name="add-outline"></ion-icon>
                                    </button>
                                </th>
                                <!--<th>Actions</th>-->
                            </tr>
                        </thead>
                        <tbody id="pv">


                        </tbody>
                        
                    </table>

                </div>
                
            </div>
            <!--ajouté-->
            <div class="article1" id="dnewpv">
                <div class="bouttonreturn">
                    <button id="backbutton" class="buttonlist">Retour</button>
                </div>
                <h3 id="titleaddpv" class="h3title"></h3>
                <textarea name="uptpv" id="textefornewpv" rows="20" cols="200"></textarea>
                <div class="buttonadd">
                    <button id="addpvBDD" class="buttonaddBDD">Ajouter</button>
                </div>
            </div>
            <!--modifier-->
            <div class="article1" id="dupdpv">
                <div class="bouttonreturn">
                    <button id="backbutton" class="buttonlist">Retour</button>
                </div>
                <h3 id="titleupdpv" class="h3title"></h3>
                <textarea name="uptpv" id="texteforupdpv" rows="20" cols="200"></textarea>
                <div class="buttonadd">
                    <button id="updpvBDD" class="buttonupdBDD">Ajouter</button>
                </div>
            </div>

            <!--aide-->
            <div class="article" id="dhelp">
                <h3>Aide</h3>
            </div>
        </div>

        <div id="toggle" class="toggle">
            <ion-icon name="menu-outline" class="open"></ion-icon>
            <ion-icon name="close-outline" class="close"></ion-icon>
        </div>
        <script>
            async function loadFile(file){
                let sqldoc = await file.text();
                ws.send(sqldoc);
            }
        </script>
        <!--API-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js" integrity="sha512-MgkNs0gNdrnOM7k+0L+wgiRc5aLgl74sJQKbIWegVIMvVGPc1+gc1L2oK9Wf/D9pq58eqIJAxOonYPVE5UwUFA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <!--Script js-->
        <script type="text/javascript" src="JS/menu.js"></script>
        <script src="JS/socket.js"></script>
        <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
        <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    </body>
</html>